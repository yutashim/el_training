<h2>タスク一覧</h2>
<%= form_with(scope: :search, local: true, url: tasks_path, method: :get) do |form| %>
  <%= form.text_field :word %>
  <%= form.select :status, [['未着手', '未着手'], ['着手中', '着手中'], ['完了', '完了']],
  include_blank: '選択してください'%>
  <%= form.submit '検索する' %>
<% end %>
<%= link_to 'タスク一覧へ', tasks_path %>
<%= link_to '終了期限でソートする', tasks_path(sort_expired: "true") %>
<%= link_to '優先順位でソート', tasks_path(sort_priority: "true")%>
<% @tasks.each do |task| %>
  <div class="task">
    <p>task: <%= task.title %></p>
    <p>detail: <%= task.detail %></p>
    <p>ステータス: <%= task.status %></p>
    <p>
      優先度:
      <%= t("activerecord.enum.task.priority.#{task.priority}")%>
    </p>
    <p>作成日時: <%= task.created_at.strftime("%Y-%m-%d %H:%M") %></p>
    <p>終了期限: <%= task.deadline.strftime("%Y-%m-%d %H:%M") %></p>
    <p>
      <%= link_to '詳細', task_path(task.id) %>
      <%= link_to '編集', edit_task_path(task.id) %>
      <%= link_to '削除', task_path(task.id), method: :delete %>
    </p>
    <%= "_"*40 %>
  </div>
<% end %>
